<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>transform, translate 값 변경 / mousemove</title>
    <style>
        body {
            background-color: #000;
        }

        h1 {
            color: #fff;
        }

        .cursor {
            position: absolute;
            top: 0;
            left: 0;
            width: 50px;
            height: 50px;
            background-color: red;
            border-radius: 50%;
            transition: all .3s ease-in;
        }
    </style>

    <script>
        let cursor;
        let x = 0;
        let y = 0;
        let mx = 0;
        let my = 0;
        let speed = 0.3;


        window.onload = function() {
            let text = document.getElementsByTagName('h1')[0];
            cursor = document.getElementsByClassName('cursor')[0];
            window.addEventListener('mousemove',mousefunc, false);

            function mousefunc(e){
                x = e.clientX;
                y = e.clientY;

                text.innerHTML = "x = " + x + " y = " + y;
            }
            loop();
        }

        //let i = 0;
        function loop() {
           //console.log(i += 1);
           //console.log(x, y);

            mx += (x - mx) * speed; //움직일 값 += (현재 마우스 위치 - 바로 전 위치 값) * 0.001;  // 한번에 값을 더해주면 바로 움직이니깐 조금씩 작은 수를 더해줌
            my += (y - my) * speed;
            cursor.style.transform = "translate(" + mx + "px," + my + "px)";
            window.requestAnimationFrame(loop);
        }

    </script>
</head>
<body>

    <h1>test</h1>
    <div class="cursor"></div>

</body>
</html>